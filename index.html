<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Analyzer</title>
    <style>
      body {
        font-family: sans-serif;
        max-width: 600px;
        margin: 40px auto;
        line-height: 1.6;
        padding: 15px;
      }
      textarea {
        width: 100%;
        height: 120px;
        padding: 10px;
        font-size: 16px;
      }
      button {
        padding: 10px 20px;
        margin-top: 10px;
        font-size: 16px;
        cursor: pointer;
      }
      #output {
        margin-top: 20px;
        padding: 15px;
        background: #f3f3f3;
        border-radius: 6px;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>

    <h2>Text Analyzer</h2>

    <textarea id="textInput" placeholder="Type or paste text here..."></textarea>
    <button onclick="runAnalysis()">Analyze</button>

    <div id="output"></div>

    <script>
      function analyzeText(text) {
        if (typeof text !== 'string') {
          return { error: "Input must be a string" };
        }

        const words = text.match(/\b\w+\b/g) || [];
        const totalWords = words.length;
        const totalChars = text.length;
        const totalCharsNoSpaces = text.replace(/\s+/g, '').length;
        const averageWordLength = totalWords === 0 ? 0 : totalCharsNoSpaces / totalWords;

        const wordFrequency = {};
        words.forEach(word => {
          const lower = word.toLowerCase();
          wordFrequency[lower] = (wordFrequency[lower] || 0) + 1;
        });

        const topWords = Object.entries(wordFrequency)
          .sort((a, b) => b[1] - a[1])
          .slice(0, 5)
          .map(([word, count]) => ({ word, count }));

        return {
          totalWords,
          totalChars,
          totalCharsNoSpaces,
         averageWordLength: averageWordLength.toFixed(2),
          topWords
        };
      }

      function runAnalysis() {
        const input = document.getElementById("textInput").value;
        const result = analyzeText(input);

        let output = "";
        output += `Total Words: ${result.totalWords}\n`;
        output += `Total Characters (with spaces): ${result.totalChars}\n`;
        output += `Total Characters (without spaces): ${result.totalCharsNoSpaces}\n`;
        output += `Average Word Length: ${result.averageWordLength}\n`;
        output += `\nTop 5 Words:\n`;

        result.topWords.forEach((item, i) => {
          output += `${i + 1}. ${item.word} â€” ${item.count}\n`;
        });

        document.getElementById("output").textContent = output;
      }
    </script>

  </body>
</html>
